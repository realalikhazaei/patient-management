{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:45:00.063Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"Cannot read properties of undefined (reading 'name')","jobId":"22","stack":"TypeError: Cannot read properties of undefined (reading 'name')\n    at new Email (C:\\Projects\\patient-management\\utils\\email.js:7:22)\n    at reminderEmail (C:\\Projects\\patient-management\\jobs\\reminderEmail.js:4:16)\n    at Worker.connection.connection [as processFn] (C:\\Projects\\patient-management\\jobs\\worker.js:12:13)\n    at Worker.callProcessJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:140:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:525:43\n    at trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\utils.js:258:16)\n    at Worker.trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\queue-base.js:153:34)\n    at Worker.processJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:462:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:259:66\n    at Worker.retryIfFailed (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:750:30)","timestamp":"2025-06-11T19:45:00.158Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:46:00.024Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"Cannot read properties of undefined (reading 'name')","jobId":"23","stack":"TypeError: Cannot read properties of undefined (reading 'name')\n    at new Email (C:\\Projects\\patient-management\\utils\\email.js:7:22)\n    at reminderEmail (C:\\Projects\\patient-management\\jobs\\reminderEmail.js:4:16)\n    at Worker.connection.connection [as processFn] (C:\\Projects\\patient-management\\jobs\\worker.js:12:13)\n    at Worker.callProcessJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:140:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:525:43\n    at trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\utils.js:258:16)\n    at Worker.trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\queue-base.js:153:34)\n    at Worker.processJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:462:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:259:66\n    at Worker.retryIfFailed (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:750:30)","timestamp":"2025-06-11T19:46:00.029Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:47:00.013Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"Cannot read properties of undefined (reading 'name')","jobId":"24","stack":"TypeError: Cannot read properties of undefined (reading 'name')\n    at new Email (C:\\Projects\\patient-management\\utils\\email.js:7:22)\n    at reminderEmail (C:\\Projects\\patient-management\\jobs\\reminderEmail.js:5:16)\n    at Worker.connection.connection [as processFn] (C:\\Projects\\patient-management\\jobs\\worker.js:12:13)\n    at Worker.callProcessJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:140:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:525:43\n    at trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\utils.js:258:16)\n    at Worker.trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\queue-base.js:153:34)\n    at Worker.processJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:462:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:259:66\n    at Worker.retryIfFailed (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:750:30)","timestamp":"2025-06-11T19:47:00.052Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:48:00.036Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"Cannot read properties of undefined (reading 'name')","jobId":"25","stack":"TypeError: Cannot read properties of undefined (reading 'name')\n    at new Email (C:\\Projects\\patient-management\\utils\\email.js:7:22)\n    at reminderEmail (C:\\Projects\\patient-management\\jobs\\reminderEmail.js:5:16)\n    at Worker.connection.connection [as processFn] (C:\\Projects\\patient-management\\jobs\\worker.js:12:13)\n    at Worker.callProcessJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:140:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:525:43\n    at trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\utils.js:258:16)\n    at Worker.trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\queue-base.js:153:34)\n    at Worker.processJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:462:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:259:66\n    at Worker.retryIfFailed (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:750:30)","timestamp":"2025-06-11T19:48:00.047Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:49:00.056Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"C:\\Projects\\patient-management\\views\\_style.pug:2:21\n    1| body {\n  > 2|   font-family: Arial, sans-serif;\n---------------------------^\n    3|   background-color: #f4f4f4;\n    4|   margin: 0;\n    5|   padding: 0;\n\nunexpected text \", san\"","jobId":"26","stack":"Error: C:\\Projects\\patient-management\\views\\_style.pug:2:21\n    1| body {\n  > 2|   font-family: Arial, sans-serif;\n---------------------------^\n    3|   background-color: #f4f4f4;\n    4|   margin: 0;\n    5|   padding: 0;\n\nunexpected text \", san\"\n    at makeError (C:\\Projects\\patient-management\\node_modules\\pug-error\\lib\\index.js:34:15)\n    at Lexer.error (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:62:15)\n    at Lexer.fail (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1629:10)\n    at Lexer.advance (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1694:12)\n    at Lexer.callLexerFunction (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1647:23)\n    at Lexer.getTokens (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1706:12)\n    at lex (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:12:42)\n    at Object.lex (C:\\Projects\\patient-management\\node_modules\\pug\\lib\\index.js:104:9)\n    at Function.loadString [as string] (C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:53:24)\n    at C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:37:27","timestamp":"2025-06-11T19:49:00.216Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:50:00.031Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"C:\\Projects\\patient-management\\views\\_style.pug:2:21\n    1| body {\n  > 2|   font-family: Arial, sans-serif;\n---------------------------^\n    3|   background-color: #f4f4f4;\n    4|   margin: 0;\n    5|   padding: 0;\n\nunexpected text \", san\"","jobId":"27","stack":"Error: C:\\Projects\\patient-management\\views\\_style.pug:2:21\n    1| body {\n  > 2|   font-family: Arial, sans-serif;\n---------------------------^\n    3|   background-color: #f4f4f4;\n    4|   margin: 0;\n    5|   padding: 0;\n\nunexpected text \", san\"\n    at makeError (C:\\Projects\\patient-management\\node_modules\\pug-error\\lib\\index.js:34:15)\n    at Lexer.error (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:62:15)\n    at Lexer.fail (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1629:10)\n    at Lexer.advance (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1694:12)\n    at Lexer.callLexerFunction (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1647:23)\n    at Lexer.getTokens (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1706:12)\n    at lex (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:12:42)\n    at Object.lex (C:\\Projects\\patient-management\\node_modules\\pug\\lib\\index.js:104:9)\n    at Function.loadString [as string] (C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:53:24)\n    at C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:37:27","timestamp":"2025-06-11T19:50:00.056Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:51:00.044Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"C:\\Projects\\patient-management\\views\\baseEmail.pug:8:21\n    6|     title Event Reminder\n    7|     body {\n  > 8|   font-family: Arial, sans-serif;\n---------------------------^\n    9|   background-color: #f4f4f4;\n    10|   margin: 0;\n    11|   padding: 0;\n\nunexpected text \", san\"","jobId":"28","stack":"Error: C:\\Projects\\patient-management\\views\\baseEmail.pug:8:21\n    6|     title Event Reminder\n    7|     body {\n  > 8|   font-family: Arial, sans-serif;\n---------------------------^\n    9|   background-color: #f4f4f4;\n    10|   margin: 0;\n    11|   padding: 0;\n\nunexpected text \", san\"\n    at makeError (C:\\Projects\\patient-management\\node_modules\\pug-error\\lib\\index.js:34:15)\n    at Lexer.error (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:62:15)\n    at Lexer.fail (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1629:10)\n    at Lexer.advance (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1694:12)\n    at Lexer.callLexerFunction (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1647:23)\n    at Lexer.getTokens (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1706:12)\n    at lex (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:12:42)\n    at Object.lex (C:\\Projects\\patient-management\\node_modules\\pug\\lib\\index.js:104:9)\n    at Function.loadString [as string] (C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:53:24)\n    at C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:37:27","timestamp":"2025-06-11T19:51:00.058Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:52:00.019Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"C:\\Projects\\patient-management\\views\\_style.pug:2:21\n    1| body {\n  > 2|   font-family: Arial, sans-serif;\n---------------------------^\n    3|   background-color: #f4f4f4;\n    4|   margin: 0;\n    5|   padding: 0;\n\nunexpected text \", san\"","jobId":"29","stack":"Error: C:\\Projects\\patient-management\\views\\_style.pug:2:21\n    1| body {\n  > 2|   font-family: Arial, sans-serif;\n---------------------------^\n    3|   background-color: #f4f4f4;\n    4|   margin: 0;\n    5|   padding: 0;\n\nunexpected text \", san\"\n    at makeError (C:\\Projects\\patient-management\\node_modules\\pug-error\\lib\\index.js:34:15)\n    at Lexer.error (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:62:15)\n    at Lexer.fail (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1629:10)\n    at Lexer.advance (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1694:12)\n    at Lexer.callLexerFunction (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1647:23)\n    at Lexer.getTokens (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1706:12)\n    at lex (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:12:42)\n    at Object.lex (C:\\Projects\\patient-management\\node_modules\\pug\\lib\\index.js:104:9)\n    at Function.loadString [as string] (C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:53:24)\n    at C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:37:27","timestamp":"2025-06-11T19:52:00.041Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T19:53:00.026Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"C:\\Projects\\patient-management\\views\\_style.pug:2:21\n    1| body {\n  > 2|   font-family: Arial, sans-serif;\n---------------------------^\n    3|   background-color: #f4f4f4;\n    4|   margin: 0;\n    5|   padding: 0;\n\nunexpected text \", san\"","jobId":"30","stack":"Error: C:\\Projects\\patient-management\\views\\_style.pug:2:21\n    1| body {\n  > 2|   font-family: Arial, sans-serif;\n---------------------------^\n    3|   background-color: #f4f4f4;\n    4|   margin: 0;\n    5|   padding: 0;\n\nunexpected text \", san\"\n    at makeError (C:\\Projects\\patient-management\\node_modules\\pug-error\\lib\\index.js:34:15)\n    at Lexer.error (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:62:15)\n    at Lexer.fail (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1629:10)\n    at Lexer.advance (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1694:12)\n    at Lexer.callLexerFunction (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1647:23)\n    at Lexer.getTokens (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:1706:12)\n    at lex (C:\\Projects\\patient-management\\node_modules\\pug-lexer\\index.js:12:42)\n    at Object.lex (C:\\Projects\\patient-management\\node_modules\\pug\\lib\\index.js:104:9)\n    at Function.loadString [as string] (C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:53:24)\n    at C:\\Projects\\patient-management\\node_modules\\pug-load\\index.js:37:27","timestamp":"2025-06-11T19:53:00.046Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T20:45:00.045Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"C:\\Projects\\patient-management\\utils/../views/reminder.pug:17\n    15|       tr\r\n    16|         td Date\r\n  > 17|         td= `${new Intl.DateTimeFormat('en-US', {month: 'short', day: 'numeric', weekday: 'short'}).format(data.dateTime)}`\r\n    18|       tr\r\n    19|         td Time\r\n    20|         td= `${new Intl.DateTimeFormat('en-US', {hour: 'numeric', minute: 'numeric'}).format(data.dateTime)}`\r\n\nInvalid time value","jobId":"31","stack":"RangeError: C:\\Projects\\patient-management\\utils/../views/reminder.pug:17\n    15|       tr\r\n    16|         td Date\r\n  > 17|         td= `${new Intl.DateTimeFormat('en-US', {month: 'short', day: 'numeric', weekday: 'short'}).format(data.dateTime)}`\r\n    18|       tr\r\n    19|         td Time\r\n    20|         td= `${new Intl.DateTimeFormat('en-US', {hour: 'numeric', minute: 'numeric'}).format(data.dateTime)}`\r\n\nInvalid time value\n    at eval (eval at wrap (C:\\Projects\\patient-management\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:287:145)\n    at template (eval at wrap (C:\\Projects\\patient-management\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:314:7)\n    at exports.renderFile (C:\\Projects\\patient-management\\node_modules\\pug\\lib\\index.js:454:38)\n    at Email.sendTemplate (C:\\Projects\\patient-management\\utils\\email.js:37:22)\n    at Email.sendVisitReminder (C:\\Projects\\patient-management\\utils\\email.js:60:16)\n    at reminderEmail (C:\\Projects\\patient-management\\jobs\\reminderEmail.js:5:41)\n    at Worker.connection.connection [as processFn] (C:\\Projects\\patient-management\\jobs\\worker.js:12:13)\n    at Worker.callProcessJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:140:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:525:43\n    at trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\utils.js:258:16)","timestamp":"2025-06-11T20:45:00.193Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T20:46:00.037Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"C:\\Projects\\patient-management\\utils/../views/reminder.pug:17\n    15|       tr\r\n    16|         td Date\r\n  > 17|         td= `${new Intl.DateTimeFormat('en-US', {month: 'short', day: 'numeric', weekday: 'short'}).format(data.dateTime)}`\r\n    18|       tr\r\n    19|         td Time\r\n    20|         td= `${new Intl.DateTimeFormat('en-US', {hour: 'numeric', minute: 'numeric'}).format(data.dateTime)}`\r\n\nInvalid time value","jobId":"32","stack":"RangeError: C:\\Projects\\patient-management\\utils/../views/reminder.pug:17\n    15|       tr\r\n    16|         td Date\r\n  > 17|         td= `${new Intl.DateTimeFormat('en-US', {month: 'short', day: 'numeric', weekday: 'short'}).format(data.dateTime)}`\r\n    18|       tr\r\n    19|         td Time\r\n    20|         td= `${new Intl.DateTimeFormat('en-US', {hour: 'numeric', minute: 'numeric'}).format(data.dateTime)}`\r\n\nInvalid time value\n    at eval (eval at wrap (C:\\Projects\\patient-management\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:287:145)\n    at template (eval at wrap (C:\\Projects\\patient-management\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:314:7)\n    at exports.renderFile (C:\\Projects\\patient-management\\node_modules\\pug\\lib\\index.js:454:38)\n    at Email.sendTemplate (C:\\Projects\\patient-management\\utils\\email.js:37:22)\n    at Email.sendVisitReminder (C:\\Projects\\patient-management\\utils\\email.js:60:16)\n    at reminderEmail (C:\\Projects\\patient-management\\jobs\\reminderEmail.js:5:41)\n    at Worker.connection.connection [as processFn] (C:\\Projects\\patient-management\\jobs\\worker.js:12:13)\n    at Worker.callProcessJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:140:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:525:43\n    at trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\utils.js:258:16)","timestamp":"2025-06-11T20:46:00.141Z"}}
{"level":"error","message":{"data":{"dateTime":"2025-06-11T20:47:00.051Z","doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"C:\\Projects\\patient-management\\utils/../views/reminder.pug:17\n    15|       tr\r\n    16|         td Date\r\n  > 17|         td= `${new Intl.DateTimeFormat('en-US', {month: 'short', day: 'numeric', weekday: 'short'}).format(data.dateTime)}`\r\n    18|       tr\r\n    19|         td Time\r\n    20|         td= `${new Intl.DateTimeFormat('en-US', {hour: 'numeric', minute: 'numeric'}).format(data.dateTime)}`\r\n\nInvalid time value","jobId":"33","stack":"RangeError: C:\\Projects\\patient-management\\utils/../views/reminder.pug:17\n    15|       tr\r\n    16|         td Date\r\n  > 17|         td= `${new Intl.DateTimeFormat('en-US', {month: 'short', day: 'numeric', weekday: 'short'}).format(data.dateTime)}`\r\n    18|       tr\r\n    19|         td Time\r\n    20|         td= `${new Intl.DateTimeFormat('en-US', {hour: 'numeric', minute: 'numeric'}).format(data.dateTime)}`\r\n\nInvalid time value\n    at eval (eval at wrap (C:\\Projects\\patient-management\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:287:145)\n    at template (eval at wrap (C:\\Projects\\patient-management\\node_modules\\pug-runtime\\wrap.js:6:10), <anonymous>:314:7)\n    at exports.renderFile (C:\\Projects\\patient-management\\node_modules\\pug\\lib\\index.js:454:38)\n    at Email.sendTemplate (C:\\Projects\\patient-management\\utils\\email.js:37:22)\n    at Email.sendVisitReminder (C:\\Projects\\patient-management\\utils\\email.js:60:16)\n    at reminderEmail (C:\\Projects\\patient-management\\jobs\\reminderEmail.js:5:41)\n    at Worker.connection.connection [as processFn] (C:\\Projects\\patient-management\\jobs\\worker.js:12:13)\n    at Worker.callProcessJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:140:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:525:43\n    at trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\utils.js:258:16)","timestamp":"2025-06-11T20:47:00.170Z"}}
{"level":"error","message":{"data":{"dateTime":1749674880031,"doctor":{"name":"Hossein Mehrzad"},"patient":{"email":"ali.khazaii88@gmail.com","name":"Ali Khazaei"}},"error":"this.createTransport is not a function","jobId":"34","stack":"TypeError: this.createTransport is not a function\n    at Email.sendTemplate (C:\\Projects\\patient-management\\utils\\email.js:48:16)\n    at Email.sendVisitReminder (C:\\Projects\\patient-management\\utils\\email.js:60:16)\n    at reminderEmail (C:\\Projects\\patient-management\\jobs\\reminderEmail.js:5:41)\n    at Worker.connection.connection [as processFn] (C:\\Projects\\patient-management\\jobs\\worker.js:12:13)\n    at Worker.callProcessJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:140:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:525:43\n    at trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\utils.js:258:16)\n    at Worker.trace (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\queue-base.js:153:34)\n    at Worker.processJob (C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:462:21)\n    at C:\\Projects\\patient-management\\node_modules\\bullmq\\dist\\cjs\\classes\\worker.js:259:66","timestamp":"2025-06-11T20:48:00.201Z"}}
